{
  "openapi" : "3.0.0",
  "servers" : [ {
    "description" : "SwaggerHub API Auto Mocking",
    "url" : "https://virtserver.swaggerhub.com/SDB-IT/wms-catalogue/1.0.0"
  }, {
    "description" : "SwaggerHub API Auto Mocking",
    "url" : "https://virtserver.swaggerhub.com/SDB-IT/wms-receiving-advices/1.0.0"
  }, {
    "description" : "Production",
    "url" : "https://webapps.sdb.it/webtng/wsrest/wms/catalogService/1.0.0"
  }, {
    "description" : "Test/Stage",
    "url" : "https://stage.savinodelbene.com/webtng/wsrest/wms/catalogService/1.0.0"
  } ],
  "info" : {
    "description" : "API to create/modify catalogue items in WMS",
    "version" : "1.0.0",
    "title" : "Catalogue Items",
    "contact" : {
      "email" : "wms@tech.sdb.it"
    }
  },
  "tags" : [ {
    "name" : "Catalogue items",
    "description" : "Catalogue items"
  } ],
  "paths" : {
    "/catalog" : {
      "put" : {
        "tags" : [ "Catalogue items" ],
        "summary" : "Create/Modify a catalogue item in WMS",
        "operationId" : "createOrder",
        "description" : "API to create or modify a catalogue item in WMS\n",
        "parameters" : [ {
          "$ref" : "#/components/parameters/TIMESTAMP_PARAM"
        }, {
          "$ref" : "#/components/parameters/HMAC_PARAM"
        }, {
          "in" : "query",
          "name" : "warehouseId",
          "schema" : {
            "type" : "integer"
          },
          "example" : 30,
          "description" : "Code to identify the warehouse internally.\nWill be provided with the integration\n",
          "required" : true
        }, {
          "in" : "query",
          "name" : "publishMode",
          "schema" : {
            "type" : "string",
            "enum" : [ "ADD_ALL_ARTICLES", "ADD_ONLY_CHANGED_ARTICLES" ]
          },
          "example" : 30,
          "description" : "Used to publish the articles to GXS, Inovis (where integrations is enabled)\n- \"ADD_ALL_ARTICLES\" publish all the articles\n- \"ADD_ONLY_CHANGED_ARTICLES\" publish only the changed articles\n"
        } ],
        "requestBody" : {
          "required" : true,
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Catalogue"
              }
            },
            "application/xml" : {
              "schema" : {
                "$ref" : "#/components/schemas/Catalogue"
              }
            }
          }
        },
        "responses" : {
          "2XX" : {
            "description" : "Successfully completed operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CatalogServiceResponse"
                }
              }
            }
          },
          "default" : {
            "description" : "Internal server error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InternalServerError"
                },
                "examples" : {
                  "serverError" : {
                    "$ref" : "#/components/examples/ServerError"
                  },
                  "badParameter" : {
                    "$ref" : "#/components/examples/BadParameter"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "parameters" : {
      "TIMESTAMP_PARAM" : {
        "in" : "header",
        "name" : "TIMESTAMP_PARAM",
        "required" : true,
        "description" : "Unix timestamp",
        "schema" : {
          "type" : "string",
          "pattern" : "^[0-9]+$"
        }
      },
      "HMAC_PARAM" : {
        "in" : "header",
        "name" : "HMAC_PARAM",
        "required" : true,
        "description" : "HMAC MD5 of the query string.\nThis param MUST NOT be included in HMAC calculation\n",
        "schema" : {
          "type" : "string"
        }
      }
    },
    "schemas" : {
      "Catalogue" : {
        "type" : "object",
        "properties" : {
          "catalog_header" : {
            "$ref" : "#/components/schemas/CatalogueHeader"
          },
          "catalog_body" : {
            "$ref" : "#/components/schemas/CatalogueBody"
          }
        },
        "required" : [ "catalog_header", "catalog_body" ]
      },
      "CatalogueHeader" : {
        "type" : "object",
        "properties" : {
          "company" : {
            "type" : "string",
            "deprecated" : true
          },
          "year" : {
            "type" : "integer",
            "description" : "Article's year\n",
            "example" : 2018
          },
          "season" : {
            "type" : "string",
            "description" : "Article's season\n",
            "example" : "FW"
          },
          "total" : {
            "type" : "integer",
            "example" : 2000,
            "description" : "Number of articles included in the request body\n"
          }
        },
        "required" : [ "total" ]
      },
      "CatalogueBody" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/BarcodeSkuUpcEan"
        }, {
          "type" : "object",
          "properties" : {
            "style" : {
              "type" : "string",
              "example" : "B00009",
              "description" : "Style\n"
            },
            "model" : {
              "type" : "string",
              "example" : "E001V",
              "description" : "Model\n"
            },
            "color" : {
              "type" : "string",
              "example" : "200",
              "description" : "Color code\n"
            },
            "color_name" : {
              "type" : "string",
              "example" : "200",
              "description" : "Color description\n"
            },
            "size" : {
              "type" : "string",
              "example" : "S",
              "description" : "Size code\n"
            },
            "size_position" : {
              "type" : "string",
              "example" : "V",
              "description" : "Size position\n"
            },
            "wholesale_price" : {
              "type" : "number",
              "format" : "double",
              "description" : "Unit price. 2 decimal places\n",
              "example" : 300.0
            },
            "retail_price" : {
              "type" : "number",
              "format" : "double",
              "description" : "Retail price. 2 decimal places\n",
              "example" : 500.0
            },
            "description" : {
              "type" : "string",
              "description" : "Description (in foreign language)\n",
              "example" : "PANTALONE CHIARO"
            },
            "english_description" : {
              "type" : "string",
              "description" : "Description (in English)\n",
              "example" : "WHITE T-SHIRT"
            },
            "name" : {
              "type" : "string",
              "description" : "Collection\n",
              "example" : "Eel skinny belt"
            },
            "nrf_color" : {
              "type" : "string",
              "description" : "Color code NRF\n",
              "example" : "10005"
            },
            "nrf_size" : {
              "type" : "string",
              "description" : "Size Code NRF\n",
              "example" : "50001"
            },
            "product_class" : {
              "type" : "string",
              "description" : "Product class\n",
              "example" : "33902"
            },
            "commodity_group" : {
              "type" : "string",
              "description" : "Commodity group\n"
            },
            "commodity_category" : {
              "type" : "string",
              "description" : "Commodity category\n",
              "example" : "H"
            },
            "commodity_sub_category" : {
              "type" : "string",
              "description" : "Commodity sub category\n",
              "example" : "ABC"
            }
          },
          "required" : [ "english_description" ]
        } ]
      },
      "BarcodeSkuUpcEan" : {
        "anyOf" : [ {
          "type" : "object",
          "properties" : {
            "barcode_sku" : {
              "type" : "string",
              "description" : "SKU\n",
              "example" : "123456"
            }
          },
          "required" : [ "barcode_sku" ]
        }, {
          "type" : "object",
          "properties" : {
            "barcode_ean" : {
              "type" : "integer",
              "description" : "EAN\n",
              "example" : "3000036057013"
            }
          }
        }, {
          "type" : "object",
          "properties" : {
            "barcode_upc" : {
              "type" : "integer",
              "description" : "UPC\n",
              "example" : "300003605701"
            }
          }
        } ]
      },
      "Sku" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/SkuPieces"
        }, {
          "type" : "object",
          "properties" : {
            "pieces" : {
              "$ref" : "#/components/schemas/SkuPiece"
            }
          }
        } ]
      },
      "SkuPiece" : {
        "type" : "object",
        "properties" : {
          "piece" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "external_barcode" : {
                  "type" : "string",
                  "description" : "Barcode of the piece\n"
                }
              }
            }
          }
        }
      },
      "SkuPieces" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/BarcodeSkuUpcEan"
        }, {
          "type" : "object",
          "properties" : {
            "model" : {
              "type" : "string",
              "description" : "Model\n",
              "example" : "IMBAL.C1",
              "deprecated" : true
            },
            "style" : {
              "type" : "string",
              "description" : "Style\n",
              "deprecated" : true
            },
            "color" : {
              "type" : "string",
              "description" : "Color\n",
              "deprecated" : true
            },
            "size" : {
              "type" : "string",
              "description" : "Size\n",
              "example" : "UNI",
              "deprecated" : true
            },
            "nrf_color" : {
              "type" : "string",
              "description" : "Color code NRF\n",
              "deprecated" : true
            },
            "nrf_size" : {
              "type" : "string",
              "description" : "Size Code NRF\n",
              "deprecated" : true
            },
            "description" : {
              "type" : "string",
              "description" : "Article description\n",
              "example" : "TRANSPORT COSTS-IMB.C1 MIS.600X400X400",
              "deprecated" : true
            },
            "material_composition" : {
              "type" : "string",
              "description" : "Material composition\n",
              "example" : "100% POLYESTER",
              "deprecated" : true
            },
            "wholesale_price" : {
              "type" : "number",
              "format" : "double",
              "description" : "Unit price. 2 decimal places\n",
              "example" : 300.0,
              "deprecated" : true
            },
            "qty" : {
              "type" : "integer",
              "description" : "Quantity for this article\n",
              "example" : 1
            },
            "slot" : {
              "type" : "string",
              "description" : "Logical grouping of commodity\n",
              "example" : "U13",
              "default" : ""
            }
          },
          "required" : [ "qty", "slot" ]
        } ]
      },
      "ReceiptAdviceBodyPieces" : {
        "type" : "object",
        "properties" : {
          "pieces" : {
            "type" : "object",
            "properties" : {
              "sku" : {
                "type" : "array",
                "items" : {
                  "$ref" : "#/components/schemas/SkuPieces"
                }
              }
            },
            "required" : [ "sku" ]
          }
        },
        "required" : [ "pieces" ]
      },
      "InternalServerError" : {
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string"
          },
          "statusCode" : {
            "type" : "integer"
          }
        },
        "required" : [ "message", "statusCode" ]
      },
      "CatalogServiceResponse" : {
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string"
          },
          "transmittedArticles" : {
            "type" : "integer",
            "description" : "Number of published articles\n",
            "example" : 10
          },
          "notCompliantArticleEntries" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/NotCompliantArticleEntry"
            }
          }
        },
        "required" : [ "message" ],
        "example" : {
          "message" : "Receipt advice created successfully"
        }
      },
      "NotCompliantArticleEntry" : {
        "type" : "object",
        "properties" : {
          "sku" : {
            "type" : "string",
            "description" : "SKU\n"
          },
          "upc" : {
            "type" : "string",
            "description" : "UPC\n"
          },
          "ean" : {
            "type" : "string",
            "description" : "EAN\n"
          }
        },
        "required" : [ "sku" ]
      }
    },
    "examples" : {
      "ServerError" : {
        "value" : {
          "message" : "Unexpected error occurred",
          "statusCode" : 500
        }
      },
      "BadParameter" : {
        "value" : {
          "message" : "Bad parameter",
          "statusCode" : 400
        }
      }
    }
  }
}