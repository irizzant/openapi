{
  "openapi" : "3.0.0",
  "servers" : [ {
    "description" : "SwaggerHub API Auto Mocking",
    "url" : "https://virtserver.swaggerhub.com/SDB-IT/wms-receiving-advices/1.0.0"
  }, {
    "description" : "Production",
    "url" : "https://webapps.sdb.it/webtng/wsrest/wms/"
  }, {
    "description" : "Test/Stage",
    "url" : "https://stage.savinodelbene.com/webtng/wsrest/wms/"
  } ],
  "info" : {
    "description" : "API to create/modify receiving advices and returns in WMS",
    "version" : "1.0.0",
    "title" : "Receiving advices",
    "contact" : {
      "email" : "wms@tech.sdb.it"
    }
  },
  "tags" : [ {
    "name" : "Receiving advice",
    "description" : "Receiving advice"
  } ],
  "paths" : {
    "/receivingAdvice" : {
      "put" : {
        "tags" : [ "Receiving advice" ],
        "summary" : "Create/Modify a receiving advice or a return in WMS",
        "operationId" : "createOrder",
        "description" : "API to create or modify a receiving advice in WMS\n",
        "parameters" : [ {
          "$ref" : "#/components/parameters/TIMESTAMP_PARAM"
        }, {
          "$ref" : "#/components/parameters/HMAC_PARAM"
        }, {
          "in" : "query",
          "name" : "orderType",
          "description" : "Order type. Will be provided during the integration",
          "schema" : {
            "type" : "string",
            "enum" : [ "B2C", "STD", "BULK", "B2C_CUSTOMER_GIFT", "CIT" ]
          }
        } ],
        "requestBody" : {
          "required" : true,
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ReceivingAdvice"
              }
            },
            "application/xml" : {
              "schema" : {
                "$ref" : "#/components/schemas/ReceivingAdvice"
              }
            }
          }
        },
        "responses" : {
          "2XX" : {
            "description" : "Successfully completed operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/PickTicketServiceResponse"
                }
              }
            }
          },
          "default" : {
            "description" : "Internal server error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InternalServerError"
                },
                "examples" : {
                  "serverError" : {
                    "$ref" : "#/components/examples/ServerError"
                  },
                  "badParameter" : {
                    "$ref" : "#/components/examples/BadParameter"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "parameters" : {
      "TIMESTAMP_PARAM" : {
        "in" : "header",
        "name" : "TIMESTAMP_PARAM",
        "required" : true,
        "description" : "Unix timestamp",
        "schema" : {
          "type" : "string",
          "pattern" : "^[0-9]+$"
        }
      },
      "HMAC_PARAM" : {
        "in" : "header",
        "name" : "HMAC_PARAM",
        "required" : true,
        "description" : "HMAC MD5 of the query string.\nThis param MUST NOT be included in HMAC calculation\n",
        "schema" : {
          "type" : "string"
        }
      },
      "orderReferencePrefix" : {
        "in" : "query",
        "name" : "orderReferencePrefix",
        "description" : "Prefix to prepend to the order reference",
        "schema" : {
          "type" : "string"
        }
      }
    },
    "schemas" : {
      "OrderTypeEnum" : {
        "type" : "string",
        "enum" : [ "B2C", "STD", "BULK", "B2C_CUSTOMER_GIFT", "CIT" ]
      },
      "ReceivingAdvice" : {
        "type" : "object",
        "properties" : {
          "receiving_advice_header" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "allOf" : [ {
                "oneOf" : [ {
                  "type" : "object",
                  "properties" : {
                    "receiving_reference" : {
                      "type" : "string",
                      "example" : "abcdef",
                      "description" : "Unique reference for the receiving advice\n"
                    }
                  }
                }, {
                  "type" : "object",
                  "properties" : {
                    "master_invoice_number" : {
                      "type" : "string",
                      "description" : "Master Invoice Number\n",
                      "example" : "005-3324"
                    },
                    "master_invoice_date" : {
                      "type" : "string",
                      "format" : "date",
                      "description" : "Master Inovice Date\n",
                      "example" : "2018-03-15"
                    }
                  }
                } ]
              }, {
                "type" : "object",
                "properties" : {
                  "Company" : {
                    "type" : "string",
                    "deprecated" : true
                  },
                  "warehouse" : {
                    "type" : "integer",
                    "example" : 30,
                    "description" : "Code to identify the warehouse internally.\nWill be provided with the integration\n"
                  },
                  "ra_number" : {
                    "type" : "array",
                    "items" : {
                      "type" : "string"
                    },
                    "example" : "RA123",
                    "description" : "Return Authorization Number.\nFor the returns flow, MUST be provided to identify\nthat this receipt advice is a return.\n"
                  },
                  "delivery_terms" : {
                    "type" : "string",
                    "description" : "Delivery terms.\nWill be only used as an additional note\n"
                  },
                  "payment_terms" : {
                    "type" : "string",
                    "description" : "Payment terms.\nWill be only used as an additional note\n"
                  },
                  "currency" : {
                    "type" : "string",
                    "description" : "Currency.\nWill be only used as an additional note\n"
                  },
                  "total_amount" : {
                    "type" : "integer",
                    "example" : 123.0,
                    "description" : "Total amount. 2 decimal places.\n"
                  },
                  "total_hanging_pieces" : {
                    "type" : "integer",
                    "example" : 23,
                    "description" : "Number of loose pieces in hanging racks.\nWill be only used as an additional note\n"
                  },
                  "total_pieces" : {
                    "type" : "integer",
                    "example" : 557,
                    "description" : "Number of loose pieces.\nWill be only used as an additional note\n"
                  },
                  "total_boxes" : {
                    "type" : "integer",
                    "example" : 10,
                    "description" : "Number of boxes.\nWill be only used as an additional note\n"
                  },
                  "client_code" : {
                    "type" : "string",
                    "example" : "12345",
                    "description" : "Consignee code.\n"
                  },
                  "contact_phone" : {
                    "type" : "string",
                    "example" : "01-7788-7899",
                    "description" : "Contact phone.\nWill be only used as an additional note\n"
                  },
                  "name" : {
                    "type" : "string",
                    "example" : "PAOLO ROSSI",
                    "description" : "Consignee name.\n"
                  },
                  "address" : {
                    "type" : "string",
                    "example" : "VIA BIANCHI, 6",
                    "description" : "Consignee address.\n"
                  },
                  "city" : {
                    "type" : "string",
                    "example" : "FI",
                    "description" : "Consignee city.\n"
                  },
                  "country" : {
                    "type" : "string",
                    "example" : "IT",
                    "description" : "Consignee country ISO code.\n"
                  },
                  "state" : {
                    "type" : "string",
                    "example" : "USCA",
                    "description" : "Consignee state ISO code. Hyphen not supported\n"
                  },
                  "zip" : {
                    "type" : "string",
                    "example" : "123456",
                    "description" : "Consignee ZIP\n"
                  },
                  "custom_properties" : {
                    "type" : "array",
                    "items" : {
                      "type" : "object",
                      "description" : "Dictionary of additional properties\n",
                      "additionalProperties" : {
                        "type" : "string"
                      }
                    }
                  },
                  "receipt_advice_body" : {
                    "$ref" : "#/components/schemas/ReceiptAdviceBody"
                  }
                },
                "required" : [ "warehouse", "receiving_reference", "receipt_advice_body" ]
              } ]
            }
          }
        },
        "required" : [ "receiving_advice_header" ]
      },
      "ReceiptAdviceBody" : {
        "oneOf" : [ {
          "$ref" : "#/components/schemas/ReceiptAdviceBodyPieces"
        }, {
          "$ref" : "#/components/schemas/ReceiptAdviceBodyBoxes"
        } ]
      },
      "ReceiptAdviceBodyBoxes" : {
        "type" : "object",
        "properties" : {
          "boxes" : {
            "type" : "object",
            "properties" : {
              "carton" : {
                "type" : "array",
                "items" : {
                  "$ref" : "#/components/schemas/Carton"
                }
              }
            }
          }
        }
      },
      "Carton" : {
        "type" : "object",
        "properties" : {
          "carton_type" : {
            "type" : "string",
            "enum" : [ "PP", "OPEN_STOCK" ],
            "description" : "Carton type.\n- PP A carton which is going to be shipped \"as is\"\n- OPEN_STOCK A carton which is going to be opened and put on shelves upon receiving\n",
            "example" : "PP"
          },
          "carton_number" : {
            "type" : "string",
            "description" : "Carton barcode\n",
            "example" : "APC050234"
          },
          "total_qty" : {
            "type" : "integer",
            "description" : "Number of units in carton\n",
            "example" : 23,
            "deprecated" : true
          },
          "skus" : {
            "$ref" : "#/components/schemas/Sku"
          }
        },
        "required" : [ "carton_number", "carton_type", "skus" ]
      },
      "BarcodeSkuUpcEan" : {
        "anyOf" : [ {
          "type" : "object",
          "properties" : {
            "barcode_sku" : {
              "type" : "string",
              "description" : "SKU\n",
              "example" : "123456"
            }
          },
          "required" : [ "barcode_sku" ]
        }, {
          "type" : "object",
          "properties" : {
            "barcode_ean" : {
              "type" : "integer",
              "description" : "EAN\n",
              "example" : "3000036057013"
            }
          }
        }, {
          "type" : "object",
          "properties" : {
            "barcode_upc" : {
              "type" : "integer",
              "description" : "UPC\n",
              "example" : "300003605701"
            }
          }
        } ]
      },
      "Sku" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/BarcodeSkuUpcEan"
        }, {
          "type" : "object",
          "properties" : {
            "model" : {
              "type" : "string",
              "description" : "Model\n",
              "example" : "IMBAL.C1",
              "deprecated" : true
            },
            "style" : {
              "type" : "string",
              "description" : "Style\n",
              "deprecated" : true
            },
            "color" : {
              "type" : "string",
              "description" : "Color\n",
              "deprecated" : true
            },
            "size" : {
              "type" : "string",
              "description" : "Size\n",
              "example" : "UNI",
              "deprecated" : true
            },
            "nrf_color" : {
              "type" : "string",
              "description" : "Color code NRF\n",
              "deprecated" : true
            },
            "nrf_size" : {
              "type" : "string",
              "description" : "Size Code NRF\n",
              "deprecated" : true
            },
            "description" : {
              "type" : "string",
              "description" : "Article description\n",
              "example" : "TRANSPORT COSTS-IMB.C1 MIS.600X400X400",
              "deprecated" : true
            },
            "material_composition" : {
              "type" : "string",
              "description" : "Material composition\n",
              "example" : "100% POLYESTER",
              "deprecated" : true
            },
            "wholesale_price" : {
              "type" : "number",
              "format" : "double",
              "description" : "Unit price. 2 decimal places\n",
              "example" : 300.0,
              "deprecated" : true
            },
            "qty" : {
              "type" : "integer",
              "description" : "Quantity for this article\n",
              "example" : 1
            },
            "slot" : {
              "type" : "string",
              "description" : "Logical grouping of commodity\n",
              "example" : "U13",
              "default" : ""
            },
            "pieces" : {
              "$ref" : "#/components/schemas/SkuPiece"
            }
          },
          "required" : [ "qty", "slot" ]
        } ]
      },
      "SkuPiece" : {
        "type" : "object",
        "properties" : {
          "piece" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "external_barcode" : {
                  "type" : "string",
                  "description" : "Barcode of the piece\n"
                }
              }
            }
          }
        }
      },
      "SkuPieces" : {
        "type" : "object",
        "allOf" : [ {
          "$ref" : "#/components/schemas/Sku"
        }, {
          "type" : "object",
          "properties" : {
            "nrf_color" : {
              "type" : "string",
              "description" : "Color code NRF\n",
              "deprecated" : true
            },
            "nrf_size" : {
              "type" : "string",
              "description" : "Size Code NRF\n",
              "deprecated" : true
            },
            "description" : {
              "type" : "string",
              "description" : "Article description\n",
              "example" : "TRANSPORT COSTS-IMB.C1 MIS.600X400X400",
              "deprecated" : true
            },
            "price_type" : {
              "type" : "string",
              "description" : "Price type\n",
              "example" : "MARKDOWN"
            },
            "material_composition" : {
              "type" : "string",
              "description" : "Material composition\n",
              "example" : "100% POLYESTER"
            },
            "order_line" : {
              "type" : "array",
              "items" : {
                "type" : "object",
                "properties" : {
                  "primary_reference" : {
                    "type" : "string",
                    "description" : "Primary reference\n",
                    "example" : "abc"
                  },
                  "secondary_reference" : {
                    "type" : "string",
                    "description" : "Secondary reference\n",
                    "example" : "123"
                  },
                  "quantity" : {
                    "type" : "integer",
                    "description" : "Quantity\n",
                    "example" : 3
                  }
                },
                "required" : [ "primary_reference", "quantity" ]
              }
            }
          }
        } ]
      },
      "ReceiptAdviceBodyPieces" : {
        "type" : "object",
        "properties" : {
          "a" : {
            "type" : "string"
          }
        }
      },
      "InternalServerError" : {
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string"
          },
          "statusCode" : {
            "type" : "integer"
          }
        },
        "required" : [ "message", "statusCode" ]
      },
      "PickTicketServiceResponse" : {
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string"
          }
        },
        "required" : [ "message" ],
        "example" : {
          "message" : "Order created successfully"
        }
      }
    },
    "examples" : {
      "PickTicketPieces" : {
        "value" : {
          "pickticket_header" : [ {
            "company" : "woman",
            "warehouse" : "FDSNJ",
            "pon" : "1234567890",
            "po_date" : "2015-05-14",
            "picking_reference" : "150007925",
            "baby_invoice_date" : "2015-05-14",
            "baby_invoice_number" : 9313,
            "start_ship_date" : "2015-05-14",
            "cancel_date" : "2015-05-20",
            "requested_ship_date" : "2015-05-14",
            "total_hanging_pieces" : "23",
            "total_pieces" : "557",
            "total_boxes" : "10",
            "priority" : "A",
            "pick_type" : "TO-SHIP",
            "shipping_via" : "EXECUTIVE GROUP INTERNATIONAL",
            "invoice_amount" : "7414,55",
            "discount_amount" : "200,00",
            "discount_percent" : "16,67",
            "owner_reference" : "123456",
            "dc_code" : "123",
            "department" : "INTIMATE",
            "terms_type" : "05",
            "terms_net_days" : "30",
            "channel" : "ABC",
            "custom_properties" : {
              "custom_property" : [ {
                "name" : "CustomField1",
                "value" : "CustomValue1"
              }, {
                "name" : "CustomField2",
                "value" : "CustomValue2"
              } ]
            },
            "ship_to" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 428",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "sold_to" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 479",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "store" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 428",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "pickticket_body" : {
              "pieces" : {
                "sku" : [ {
                  "model" : "IMBAL.C1",
                  "style" : "",
                  "color" : "",
                  "size" : "UNI",
                  "barcode_sku" : "123456",
                  "barcode_ean" : "3000036057013",
                  "barcode_upc" : "",
                  "qty" : 1,
                  "nrf_color" : "",
                  "nrf_size" : "",
                  "description" : "TRANSPORT COSTS-IMB.C1 MIS.600X400X400",
                  "wholesale_price" : "",
                  "discount_amount" : "50,00",
                  "discount_percent" : "16,67",
                  "price_type" : "MARKDOWN",
                  "material_composition" : "",
                  "order_line" : [ {
                    "primary_reference" : "abc",
                    "secondary_reference" : "456",
                    "quantity" : "3"
                  } ]
                } ]
              }
            }
          } ]
        }
      },
      "PickTicketBoxes" : {
        "value" : {
          "pickticket_header" : [ {
            "company" : "woman",
            "warehouse" : 30,
            "pon" : "1234567890",
            "po_date" : "2015-05-14",
            "picking_reference" : "150007925",
            "baby_invoice_date" : "2015-05-14",
            "baby_invoice_number" : 9313,
            "start_ship_date" : "2015-05-14",
            "cancel_date" : "2015-05-20",
            "requested_ship_date" : "2015-05-14",
            "total_hanging_pieces" : 23,
            "total_pieces" : 557,
            "total_boxes" : 10,
            "priority" : "A",
            "pick_type" : "TO-SHIP",
            "shipping_via" : "EXECUTIVE GROUP INTERNATIONAL",
            "invoice_amount" : "7414,55",
            "discount_amount" : "200,00",
            "discount_percent" : "16,67",
            "owner_reference" : "123456",
            "dc_code" : "123",
            "department" : "INTIMATE",
            "terms_type" : "05",
            "terms_net_days" : 30,
            "channel" : "ABC",
            "lock_type" : "",
            "custom_properties" : {
              "custom_property" : [ {
                "name" : "CustomField1",
                "value" : "CustomValue1"
              }, {
                "name" : "CustomField2",
                "value" : "CustomValue2"
              } ]
            },
            "ship_to" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 428",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "sold_to" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 479",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "store" : {
              "client_code" : 20938,
              "contact_phone" : 91933005,
              "name" : "CALZATURE SAPIA DI MINEO A. ) C. SRL",
              "address" : "CSO BUTERA 428",
              "city" : "BAGHERIA",
              "country" : "IT",
              "state" : "PA",
              "zip" : "90011"
            },
            "pickticket_body" : {
              "boxes" : {
                "carton" : [ {
                  "carton_type" : "PP",
                  "carton_number" : "APC050234",
                  "total_qty" : "23",
                  "skus" : {
                    "sku" : [ {
                      "model" : "IMBAL.C1",
                      "style" : "",
                      "color" : "",
                      "size" : "UNI",
                      "barcode_sku" : "123456",
                      "barcode_ean" : "3000036057013",
                      "barcode_upc" : "",
                      "wholesale_price" : "300,00",
                      "discount_amount" : "50,00",
                      "discount_percent" : "16,67",
                      "qty" : "1"
                    } ]
                  }
                } ]
              }
            }
          } ]
        }
      },
      "ServerError" : {
        "value" : {
          "message" : "Unexpected error occurred",
          "statusCode" : 500
        }
      },
      "BadParameter" : {
        "value" : {
          "message" : "Bad parameter",
          "statusCode" : 400
        }
      }
    }
  }
}